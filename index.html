<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Тактическая версия игры Камень-Ножницы-Бумага с системой баффов и усилений">
    <meta name="keywords" content="игра, камень ножницы бумага, тактика, баффы">
    <title>Тактический Камень-Ножницы-Бумага</title>
    <link rel="stylesheet" href="style.css">
    
    <!-- Preload критических ресурсов -->
    <link rel="preload" href="main.js" as="script">
</head>
<body>
    <!-- Основной контейнер игры -->
    <main class="game-container" role="main">
        <!-- Заголовок с информацией о раунде -->
        <header class="header" aria-label="Информация об игре">
            <div class="status-lights" aria-label="Индикаторы состояния">
                <div class="status-light red" aria-label="Красный индикатор"></div>
                <div class="status-light green" aria-label="Зеленый индикатор"></div>
            </div>
            <div class="round-counter" aria-live="polite">
                РАУНД <span id="round-number">1</span>
            </div>
        </header>

        <!-- Секция противника -->
        <section class="enemy-section" aria-label="Информация о противнике">
            <div class="health-bar" 
                 id="enemy-health" 
                 aria-label="Здоровье противника"
                 role="progressbar" 
                 aria-valuemin="0" 
                 aria-valuemax="10">
                <!-- Здоровье врага генерируется JavaScript -->
            </div>
            
            <div class="triangle triangle-enemy" aria-label="Выбор противника">
                <div class="triangle-content" 
                     id="enemy-choice" 
                     aria-live="polite"
                     aria-label="Выбор противника">?</div>
            </div>
        </section>

        <!-- Информация о выбранном баффе -->
        <section class="buff-info-section" 
                 id="buff-info-section" 
                 aria-label="Информация о выбранном усилении"
                 aria-live="polite">
            <div class="buff-info-title" id="buff-info-title"></div>
            <div class="buff-info-description" id="buff-info-description"></div>
        </section>

        <!-- Секция игрока -->
        <section class="player-section" aria-label="Информация об игроке">
            <div class="triangle triangle-player" aria-label="Ваш выбор">
                <div class="triangle-content" 
                     id="player-choice" 
                     aria-live="polite"
                     aria-label="Ваш выбор">?</div>
            </div>
            
            <div class="health-bar" 
                 id="player-health" 
                 aria-label="Ваше здоровье"
                 role="progressbar" 
                 aria-valuemin="0" 
                 aria-valuemax="10">
                <!-- Здоровье игрока генерируется JavaScript -->
            </div>
            
            <!-- Активные баффы игрока -->
            <div id="player-active-buffs" 
                 class="active-buffs-container" 
                 aria-label="Активные усиления"
                 aria-live="polite"></div>
        </section>

        <!-- Результат раунда -->
        <section class="result-section hidden" 
                 id="result-section" 
                 aria-label="Результат раунда"
                 aria-live="assertive">
            <div class="result-text" id="result-text"></div>
            <div class="result-details" id="result-details"></div>
        </section>

        <!-- Основной игровой интерфейс -->
        <section id="game-interface" aria-label="Игровой интерфейс">
            <!-- Выбор действий -->
            <div class="choices-section" aria-label="Выбор действия">
                <div class="choices-grid" role="group" aria-label="Выберите действие">
                    <button class="choice-btn" 
                            data-choice="rock" 
                            type="button"
                            aria-label="Выбрать камень">
                        <span aria-hidden="true">✊</span>
                        <span class="sr-only">Камень</span>
                    </button>
                    <button class="choice-btn" 
                            data-choice="paper" 
                            type="button"
                            aria-label="Выбрать бумагу">
                        <span aria-hidden="true">✋</span>
                        <span class="sr-only">Бумага</span>
                    </button>
                    <button class="choice-btn" 
                            data-choice="scissors" 
                            type="button"
                            aria-label="Выбрать ножницы">
                        <span aria-hidden="true">✌️</span>
                        <span class="sr-only">Ножницы</span>
                    </button>
                </div>
            </div>

            <!-- Секция баффов - теперь генерируется динамически -->
            <div class="buffs-section" aria-label="Усиления">
                <div class="buffs-grid" role="group" aria-label="Выберите усиление">
                    <!-- Кнопки баффов генерируются JavaScript -->
                </div>
            </div>

            <!-- Кнопка хода -->
            <button class="make-move-btn" 
                    id="make-move-btn" 
                    type="button"
                    disabled 
                    aria-label="Сделать ход с выбранными действием и усилением">
                СДЕЛАТЬ ХОД
            </button>

            <!-- Подсказки и информация -->
            <div class="hints" aria-label="Подсказки">
                <div class="blocked-choices hidden" 
                     id="blocked-choices" 
                     aria-live="polite"></div>
            </div>
        </section>

        <!-- Кнопка следующего раунда -->
        <button class="next-round-btn hidden" 
                id="next-round-btn" 
                type="button"
                aria-label="Перейти к следующему раунду">
            СЛЕДУЮЩИЙ РАУНД
        </button>

        <!-- Экран окончания игры -->
        <section class="game-over hidden" 
                 id="game-over" 
                 aria-label="Результат игры"
                 aria-live="assertive">
            <h1 class="game-over-title" id="game-over-title"></h1>
            <button class="new-game-btn" 
                    id="new-game-btn" 
                    type="button"
                    aria-label="Начать новую игру">
                НОВАЯ ИГРА
            </button>
        </section>
    </main>

    <!-- Скрипт игры -->
    <script src="main.js" type="module"></script>
    
    <!-- Скрытые элементы для скринридеров -->
    <div class="sr-only">
        <div id="game-status" aria-live="polite"></div>
        <div id="health-status" aria-live="polite"></div>
    </div>
</body>
</html>